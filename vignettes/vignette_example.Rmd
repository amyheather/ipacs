---
title: "How to run the IPACS model"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{vignette_example}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r library}
library(ipacs)
```

Use `import_file` to import sheets from file containing model parameters. This
will produce 5 dataframes: "arrivals_all", "init_conds", "capacity", "losA" and
"costs". As R cannot return multiple objects, we return a list of dataframes
and a list of dataframe names, then use assign to create those in our current
environment.

In the example, `system.file()` is used to find example data stored in the IPACS
package. However, you can input a string with the path to your desired file - 
e.g. `import_file("myfile.xlsx").

```{r import}
files <- import_file(
  system.file("extdata", "IPACS_20230214_fix.xlsx", package="ipacs"))

for (x in seq_along(files[[1]])){
  assign(files[[1]][x], files[[2]][[x]])
}
```

Use `calculate_mu_sigma` to recalculate mu and sigma in losA dataframe using
your chosen method, as per est_method
``` {r mu_sigma}
losA <- calculate_mu_sigma(est_method = 1, losA, sd_los = 3)
```
