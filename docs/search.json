[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 ipacs authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/articles/how_to_run_the_ipacs_model.html","id":"set-up","dir":"Articles","previous_headings":"","what":"Set up","title":"How to run the IPACS model","text":"Set value objects may wish change. example, system.file() used find example data stored IPACS package. However, can input string path desired file - e.g. `import_file(“myfile.xlsx”). Use import_file import sheets file containing model parameters. produce 5 dataframes: “arrivals_all”, “init_conds”, “capacity”, “losA” “costs”. R return multiple objects, return list dataframes list dataframe names, use assign create current environment. Use calculate_mu_sigma recalculate mu sigma losA dataframe using chosen method sd_los (applicable). Set simulation length number unique dates arrivals. Use create_scenarios create scenarios arr_scenarios.","code":"library(ipacs) # String with file path for excel sheet with model inputs input_filename <- system.file(\"extdata\", \"IPACS_20230214_fix.xlsx\", package=\"ipacs\") # Method for estimation of mu and sigma (for calculate_mu_sigma()) est_method <- 1 # Standard deviation for length of stay sd_los <- 3 # Number of runs for each simulation nruns <- as.integer(5) # Standard deviation for initial service/visit rate (ISR/IVR) sd_isr <- 0.5 # Standard deviation for end service rate/final visit rate (ESR/FVR) sd_esr <- 0.5 # Temporary seed temp_seed <- 1 # Warmup length warmup <- 0 files <- import_file(input_filename) for (x in seq_along(files[[1]])){   assign(files[[1]][x], files[[2]][[x]]) } losA <- calculate_mu_sigma() sim_length <- as.integer(length(unique(arrivals_all$date))) scenarios <- create_scenarios(scenarios=TRUE) arr_scenarios <- create_scenarios(scenarios=FALSE)"},{"path":"/articles/how_to_run_the_ipacs_model.html","id":"visit-based-simulation-p1","dir":"Articles","previous_headings":"","what":"Visit-based simulation (P1)","title":"How to run the IPACS model","text":"Use sim_setup create objects visit-based simulation. returned list, use assign extract add environment. Create objects initial service rate (ISR), end service rate (ESR), standard deviations (SD). SD objects lists repeat SD number visit scenarios. Create n_slots, number visit slots available per day. based average visit rate (mean isr end_sr) multiplied capacity P1 (cap_visit) Create object store outputs scenario","code":"setup_visit <- sim_setup(\"visit\") #> c(\"P1_B_BCap_Blos_BArr\", \"P1_B_BCap_S1los_BArr\", \"P1_B_BCap_S2los_BArr\",  #> \"P1_B_S1Cap_Blos_BArr\", \"P1_B_S1Cap_S1los_BArr\", \"P1_B_S1Cap_S2los_BArr\",  #> \"P1_B_BCap_Blos_S1Arr\", \"P1_B_BCap_S1los_S1Arr\", \"P1_B_BCap_S2los_S1Arr\",  #> \"P1_B_S1Cap_Blos_S1Arr\", \"P1_B_S1Cap_S1los_S1Arr\", \"P1_B_S1Cap_S2los_S1Arr\",  #> \"P1_NS_BCap_Blos_BArr\", \"P1_NS_BCap_S1los_BArr\", \"P1_NS_BCap_S2los_BArr\",  #> \"P1_NS_S1Cap_Blos_BArr\", \"P1_NS_S1Cap_S1los_BArr\", \"P1_NS_S1Cap_S2los_BArr\",  #> \"P1_NS_BCap_Blos_S1Arr\", \"P1_NS_BCap_S1los_S1Arr\", \"P1_NS_BCap_S2los_S1Arr\",  #> \"P1_NS_S1Cap_Blos_S1Arr\", \"P1_NS_S1Cap_S1los_S1Arr\", \"P1_NS_S1Cap_S2los_S1Arr\",  #> \"P1_SG_BCap_Blos_BArr\", \"P1_SG_BCap_S1los_BArr\", \"P1_SG_BCap_S2los_BArr\",  #> \"P1_SG_S1Cap_Blos_BArr\", \"P1_SG_S1Cap_S1los_BArr\", \"P1_SG_S1Cap_S2los_BArr\",  #> \"P1_SG_BCap_Blos_S1Arr\", \"P1_SG_BCap_S1los_S1Arr\", \"P1_SG_BCap_S2los_S1Arr\",  #> \"P1_SG_S1Cap_Blos_S1Arr\", \"P1_SG_S1Cap_S1los_S1Arr\", \"P1_SG_S1Cap_S2los_S1Arr\" #> ) for (i in seq_along(setup_visit[[1]])){   assign(setup_visit[[1]][i], setup_visit[[2]][[i]]) } isr <- as.integer(scenarios_visit$IVR) end_sr <- as.integer(scenarios_visit$FVR) sd_isr <- as.double(rep(sd_isr, nrow(scenarios_visit))) sd_esr <- as.double(rep(sd_esr, nrow(scenarios_visit))) n_slots  <- cap_visit * mean(c(isr, end_sr)) visits_based_output <- NULL visits_based_output_q <- NULL"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Amy Heather. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Heather (2023). ipacs: Improving Patient flow Acute, Community Social care (IPACS). https://github.com/amyheather/ipacs, https://amyheather.github.io/ipacs/.","code":"@Manual{,   title = {ipacs: Improving Patient flow between Acute, Community and Social care (IPACS)},   author = {Amy Heather},   year = {2023},   note = {https://github.com/amyheather/ipacs, https://amyheather.github.io/ipacs/}, }"},{"path":"/index.html","id":"ipacs","dir":"","previous_headings":"","what":"Improving Patient flow between Acute, Community and Social care (IPACS)","title":"Improving Patient flow between Acute, Community and Social care (IPACS)","text":"repository contains models project “Improving Patient flow Acute, Community Social care (IPACS)”, converted package format. models used D2A resource planning. include re-coding bug fixes Amy Heather.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Improving Patient flow between Acute, Community and Social care (IPACS)","text":"can install development version ipacs GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"amyheather/ipacs\")"},{"path":"/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Improving Patient flow between Acute, Community and Social care (IPACS)","text":"example:","code":"library(ipacs) # load_setup() # setup_visit <- setup_all(\"visit\")"},{"path":"/reference/calculate_mu_sigma.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate mu and sigma — calculate_mu_sigma","title":"Calculate mu and sigma — calculate_mu_sigma","text":"Calculates mu sigma, stores within los_params, within length stay dataframe (losA).","code":""},{"path":"/reference/calculate_mu_sigma.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate mu and sigma — calculate_mu_sigma","text":"","code":"calculate_mu_sigma(   est_method = parent.frame()$est_method,   losA = parent.frame()$losA,   sd_los = parent.frame()$sd_los )"},{"path":"/reference/calculate_mu_sigma.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate mu and sigma — calculate_mu_sigma","text":"est_method Integer. Indicates estimation method use, either 1 2. losA Dataframe. sd_los Float. Standard deviation length stay distribution.","code":""},{"path":"/reference/calculate_mu_sigma.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate mu and sigma — calculate_mu_sigma","text":"losA new mu, sigma los_params columns.","code":""},{"path":"/reference/calculate_mu_sigma.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate mu and sigma — calculate_mu_sigma","text":"","code":"if (FALSE) { # interactive() losA <- calculate_mu_sigma(est_method = 1, losA = losA, sd_los = 3) }"},{"path":"/reference/create_scenarios.html","id":null,"dir":"Reference","previous_headings":"","what":"Create scenarios — create_scenarios","title":"Create scenarios — create_scenarios","text":"Combine arrivals_all, capacity, losA init_conds create scenarios arr_scenarios","code":""},{"path":"/reference/create_scenarios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create scenarios — create_scenarios","text":"","code":"create_scenarios(   scenarios,   arrivals_all = parent.frame()$arrivals_all,   capacity = parent.frame()$capacity,   losA = parent.frame()$losA,   init_conds = parent.frame()$init_conds )"},{"path":"/reference/create_scenarios.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create scenarios — create_scenarios","text":"scenarios TRUE FALSE. set TRUE, find rows distinct node sc_arr arrivals_all dataframe capacity dataframe losA dataframe init_conds dataframe","code":""},{"path":"/reference/create_scenarios.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create scenarios — create_scenarios","text":"scenarios dataframe","code":""},{"path":"/reference/dis_los.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample from length of stay (LOS) distribution — dis_los","title":"Sample from length of stay (LOS) distribution — dis_los","text":"Calculates maximum LOS mean SD LOS distribution. LOS lnorm, sample rlnorm distribution get value >=0 <= max LOS. Uses .call() need input mean SD rlnorm() list","code":""},{"path":"/reference/dis_los.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample from length of stay (LOS) distribution — dis_los","text":"","code":"dis_los(   z = parent.frame()$z,   los_dist = parent.frame()$srv_dist_visit[[z]],   los_lnorm_mean_sd = parent.frame()$srv_params_visit[[z]],   los_norm_mean = parent.frame()$mean_los_visit[[z]],   los_norm_sd = parent.frame()$sd_los_visit[[z]] )"},{"path":"/reference/dis_los.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample from length of stay (LOS) distribution — dis_los","text":"z scenario los_dist distribution type (e.g. \"lnorm\") - default srv_dist_visit los_lnorm_mean_sd mean SD lnorm distribution - default srv_params_visit los_norm_mean mean distribution type - default mean_los_visit los_norm_sd SD distribution type - default sd_los_visit","code":""},{"path":"/reference/dis_los.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample from length of stay (LOS) distribution — dis_los","text":".integer(x) - length stay integer","code":""},{"path":"/reference/dis_los.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample from length of stay (LOS) distribution — dis_los","text":"","code":"dis_los(z = \"P1_B_BCap_Blos_BArr\",         los_dist = \"lnorm\",         los_lnorm_mean_sd = c(2.197225, 1.180702),         los_norm_mean = 18.07,         los_norm_sd = 3) #> [1] 1"},{"path":"/reference/dis_los2.html","id":null,"dir":"Reference","previous_headings":"","what":"Shorten length of stay — dis_los2","title":"Shorten length of stay — dis_los2","text":"Reduces length stay patients already service","code":""},{"path":"/reference/dis_los2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Shorten length of stay — dis_los2","text":"","code":"dis_los2(long_los)"},{"path":"/reference/dis_los2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Shorten length of stay — dis_los2","text":"long_los float - length stay (output dis_los())","code":""},{"path":"/reference/dis_los2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Shorten length of stay — dis_los2","text":"Integer - shortened length stay","code":""},{"path":"/reference/dis_los2.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Shorten length of stay — dis_los2","text":"Samples uniform distribution 1 length stay (produced dis_los()). Rounds nearest integer. Assumption: patients stay least 1 day.","code":""},{"path":"/reference/dis_los2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Shorten length of stay — dis_los2","text":"","code":"dis_los2(18.34) #> [1] 7"},{"path":"/reference/import_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Import simulation excel file — import_file","title":"Import simulation excel file — import_file","text":"Imports sheet excel file contain parameters simulation. File contain sheets \"arrivals\", \"initial conditions\", \"capacity\", \"los\" \"costs\". Returns dataframes, along list dataframe names.","code":""},{"path":"/reference/import_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import simulation excel file — import_file","text":"","code":"import_file(filename)"},{"path":"/reference/import_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import simulation excel file — import_file","text":"filename String.","code":""},{"path":"/reference/import_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Import simulation excel file — import_file","text":"List length 2. Contains list dataframe names list dataframes.","code":""},{"path":"/reference/import_file.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Import simulation excel file — import_file","text":"","code":"if (FALSE) { # interactive() import_file(\"ipacs_model_parameters.xlsx\") }"},{"path":"/reference/sim_setup.html","id":null,"dir":"Reference","previous_headings":"","what":"Set-up for simulation — sim_setup","title":"Set-up for simulation — sim_setup","text":"Filters scenarios, arr_scenarios costs visit bed pathways. Extracts parameters scenarios dataframe. Pivots subset arr_scenarios. Creates vector scenario name.","code":""},{"path":"/reference/sim_setup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set-up for simulation — sim_setup","text":"","code":"sim_setup(   model_type,   scenarios = parent.frame()$scenarios,   arr_scenarios = parent.frame()$arr_scenarios,   costs = parent.frame()$costs,   sd_los = parent.frame()$sd_los )"},{"path":"/reference/sim_setup.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set-up for simulation — sim_setup","text":"model_type string - either \"visit\" \"bed\" scenarios dataframe arr_scenarios dataframe costs dataframe sd_los dataframe","code":""},{"path":"/reference/sim_setup.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set-up for simulation — sim_setup","text":"list(return_new_names, return_objects)","code":""}]
